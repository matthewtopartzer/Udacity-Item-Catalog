{% extends "_main.html" %}

{% block page_header %}

<h1>Item catalog</h1>
<p>Welcome to the item catalog web app!</p>
<p>The perfect place to keep track of your items :)</p>
<!--
<p>
    <a class="col" href="{{ url_for('data.view_catalog_json') }}"><span class="glyphicon glyphicon-file"></span> Catalog JSON</a>
    &nbsp;|&nbsp;
    <a class="col" href="{{ url_for('data.recent_atom_feed') }}"><span class="glyphicon glyphicon-list"></span> Atom feed</a>
    &nbsp;|&nbsp;
    <a class="col" href="{{ url_for('api.new_item') }}"><span class="glyphicon glyphicon-plus"></span> Add item</a>
</p>
-->

{% endblock %}


{% block content %}

<div class="row">

<div class="col-sm-4">
<p>
    <a class="col" href="{{ url_for('data.view_catalog_json') }}"><span class="glyphicon glyphicon-download-alt"></span> Catalog JSON</a>
</p>
    <h2>Categories</h2>
    <ul>
    {% for c in categories %}
    	<li>
            <a href="{{ url_for('api.view_category', category_id = c.id) }}">{{ c.name }}</a>
            <small>({{ c.items | count }} items)</small>
        </li>
    {% endfor %}
    </ul>
</div>

<div class="col-sm-4">
<p>
    <a class="col" href="{{ url_for('data.recent_atom_feed') }}"><span class="glyphicon glyphicon-list"></span> Atom feed</a>
</p>
    <h2>Latest items</h2>
    <ul>
    {% for i in latest_items %}
        <li>
            <a href="{{ url_for('api.view_item', item_id = i.id) }}">{{ i.name }}</a>
            <small>(<a href="{{ url_for('api.view_category', category_id = i.category.id) }}">{{ i.category.name }}</a>)</small>
        </li>
    {% endfor %}
    </ul>
</div>

<div class="col-sm-4">
<p>
    <a class="col" href="{{ url_for('api.new_item') }}"><span class="glyphicon glyphicon-plus"></span> Add item</a>
</p>
    <h2>All items</h2>
    <ul>
    {% for i in items %}
    	<li>
            <a href="{{ url_for('api.view_item', item_id = i.id) }}">{{ i.name }}</a>
            <small>(<a href="{{ url_for('api.view_category', category_id = i.category.id) }}">{{ i.category.name }}</a>)</small>
        </li>
    {% endfor %}
    </ul>
</div>

</div>

{% endblock %}
